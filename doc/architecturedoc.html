<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Architecture Documentation of Tournament Companion</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Architecture Documentation of Tournament Companion</h1>
<span id="author">This document describes the architecture of the Tournament Companion hosted on github: https://github.com/chris2k2/tournamentcompanion</span><br />
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="paragraph"><p>This project has two main purposes. On the one hand it should provide support for Badminton Tournaments, on the other hand it should
serve as a playing ground for new technologies.</p></div>
<div class="paragraph"><p>Badminton Tournaments often face the struggle, that players come to the tournament booth regulary and ask for the standings. Thus an organizer has
to have more people on the booth to answer this questions. Thus live scoring would be very benefitial. For the beginning of the project the project
only needs to support the "Zirndorfer Stadtmeisterschaft" in the future it should be generic, to be also used by other clubs for their tournament.
The app is used by players at the tournament. It is is not intended to follow the tournament from home.</p></div>
<div class="paragraph"><p>The other point is, that as a software architect you need to have your hands on the latest technologies. There are two options, either you do Katas all
the time (Roman Numbers, Bowling Scoring etc.) or you do one project. This will lead to a mix of technologies in this project, which is desired.</p></div>
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="paragraph"><p>In this section only the domain requirements are shown:</p></div>
<div class="ulist"><ul>
<li>
<p>
Overview of the Standings of the groups
</p>
</li>
<li>
<p>
Overview of the current schedule
</p>
</li>
<li>
<p>
Overview of the current club standings ranking
</p>
</li>
</ul></div>
<div class="paragraph"><p>Furthermore there are some non-functional requirements:
* The Quality goals must be reached
* The app should run without having to be in a specific WIFI.</p></div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<div class="paragraph"><p>This section describes what quality should be achieved. Since the app is only used as an "companion" the goals are soft.</p></div>
<div class="ulist"><ul>
<li>
<p>
Performance: The app will be used 99% while the tournament is held. It is expected that people will hit on that F5 key&#8230; A regular tournament has around 100 players,
whereas around 50 are expected to use the app. Since most Badminton courts are out of town, only a 4G connection can be expected. Thus the app must be
able to withstand ca. 50 Requests/s via a 4G line. This makes the maximum response time 20ms.
</p>
</li>
<li>
<p>
Quality: the app may fail in certain parts, which would be ok. However, the club ranking and the club standings must be accurate&#8230; Otherwise riots are expected&#8230;
</p>
</li>
<li>
<p>
Isolation: under no circumstances must the app influence the organization of the tournament. If the app crashes, fails, does miscalucations etc. it must not interfere
with the program used to organize the tournament (usually Tournament Companion).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<div class="paragraph"><p>This sections lists all the stakeholders and their interests:</p></div>
<div class="ulist"><ul>
<li>
<p>
TSV Zirndorf: To have an app for their tournament AND to have a generic app to offer to other clubs
</p>
</li>
<li>
<p>
Christian: To try out latest technologies
</p>
</li>
<li>
<p>
Mario: Learn some Angular
</p>
</li>
</ul></div>
<div style="page-break-after:always"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="paragraph"><p>As a frontend service Angular is set, at the backend a Microservice approach should be used.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-system-scope-and-context">3. System Scope and Context</h2>
<div class="sectionbody">
<div class="paragraph"><p>The communication partners are:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Tournament Planner</p></td>
<td align="left" valign="top"><p class="table">The results must be read from the Tournament Planner, since this tool is used for organizing the event. This is a read-only direction.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Play Store</p></td>
<td align="left" valign="top"><p class="table">The app will be distributed via the Play Store. So it must comply to all constraints given. This is a provide-only direction.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>The communication partners have been kept minimal in order to avoid complexity.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="paragraph"><p>The general idea is to have an server access the database of the Tournament Planner, while the frontend only talks to the backend.</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/strategy.png" alt="Strategy" />
</div>
</div>
<div class="paragraph"><p>In this way the only critical point is the database of the Tournament Planner. Otherwise the app is completely autarc.</p></div>
<div class="ulist"><ul>
<li>
<p>
TDD: The backend is developed using Testdriven Development. An high percentage of unit tests, especially for the calcuation is crucial
</p>
</li>
<li>
<p>
Bulk Answers: The server only answers with full context. This allows the client to keep the amount of requests minimal.
</p>
</li>
<li>
<p>
Caching: The Server tells the client to cache the answers for 10s. This prevents the massive F5 usage. The server uses HTTP Caching Headers for that.
</p>
</li>
<li>
<p>
BCE-Pattern: To separate concerns as good as possible the BCE (Boundary-Control-Entity) Pattern is used at the server
</p>
</li>
<li>
<p>
Dumb Frontend: Everything is done at the backend. This will keep complexity at the backend, where it is well tested and managable.
</p>
</li>
<li>
<p>
Hybrid app: Since this is a quite simple use case an hybrid app approach has been chosen.
</p>
</li>
</ul></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter describes how everything is built together. It does not describe where something is deployed.</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/buildingblock1.png" alt="overview" />
</div>
</div>
<div class="paragraph"><p>The system is separated into two building blocks. The client (de.cweyermann.btc.client.spa) and the server (de.cweyermann.btc.server). The client
is written in Typescript and builds strongly on the Angular Framework. Whereas the server is build with Java and builds strongly on the VertX framework.</p></div>
<div class="sect2">
<h3 id="_client">5.1. Client</h3>
<div class="paragraph"><p>The client is simple, as it is dumb. It only shows the results the backend server calculated.</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/bb-client.png" alt="bb-client" />
</div>
</div>
<div class="paragraph"><p>The client has a main page, which links to all the subpages, which are in their own folders. This does nothing more, than linking to all the subcomponents and the
styling. For this Bootstrap is used. The default component is "welcome", which shows a nice welcome text. All components use a backend service, which is responsile
for communicating with the server.</p></div>
</div>
<div class="sect2">
<h3 id="_server">5.2. Server</h3>
<div class="paragraph"><p>The server implements all the logic and the access to the Database. A microservice-like approach is chosen. This means the components can run independetly from another. The only shared code is in the control, which has certain calucation logic,
like Group Standings etc.</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/bb-server1.png" alt="bb-server" />
</div>
</div>
<div class="paragraph"><p>Each component consists of:
* Tp File Access: Access to the TP File. This file is the data backend of the Tournament Planner. Indeed it is an Access MDB file. Therefore the ucanaccess JDBC driver is used.
* Control: These are stateless, calculation objects. They can be instantiated copied, cloned and will simply perform certain math jobs.
* REST Layer: This is the presentation layer it gives out entities, which are serialized via the VertX Json Controller.</p></div>
<div class="paragraph"><p>All this is wired together by Startup.java. As all is built to be independet, it could be easily distributed to several machines.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="paragraph"><p>The client gets a request and dispatches it to the correct component. This component will ask the server for data. The server
dispatches it to the correct component by itself and the component will access the Tp file to extract the information needed.</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/runtime.png" alt="runtime" />
</div>
</div>
<div class="paragraph"><p>There is a caching layer between the component and the server, which might make it unneccessary to go to the server and thus to the Tp File.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="paragraph"><p>This shows the typical deployment of the client and server at a tournament</p></div>
<div class="imageblock">
<div class="content">
<img src="./src/images/deployment.png" alt="deployment" />
</div>
</div>
<div class="paragraph"><p>The components are:
* Branded Tournament Companion App: The client (de.cweyermann.btc.client.spa) must be build into an Android app. This can be done
via Apache Cordova. Welcome texts, name, icons must be adapted and the server name (see component DyDNS Program) must be filled in.</p></div>
<div class="ulist"><ul>
<li>
<p>
4G Router: Since the app should run without any wifi, the server needs to be available via the Internet
</p>
</li>
<li>
<p>
DyDNS program: Since the app is published in the store before the tournament the IP of the laptop is not known yet. Therefore
a DyDNS program should be used. It provides a name, which can be configured in the Branded Tournament Companion App, instead of an IP.
</p>
</li>
<li>
<p>
Tournament Planner: External program to organize the tournament
</p>
</li>
<li>
<p>
Tournament Companion Server: the server which provides the results. Has a configuration file which must be adapted
</p>
</li>
</ul></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter should describe some concepts which are widely adapted in the project.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Design Decisions</h2>
<div class="sectionbody">
<div class="paragraph"><p>Here are some design decisions documented. This should help other contributers to understand why it is built like this:</p></div>
<div class="ulist"><ul>
<li>
<p>
Native App vs. Hybrid App: The App starts very simple. It should only display some results. All the logic has been developed in the backend. Thus
the app must just issue some REST calls and print themn. Since, initialy more platforms should have been supported a hybrid app approach has been chosen.
</p>
</li>
<li>
<p>
Angular vs. other frameworks: Angullar has been the number 1 javascript framework at that time. Furthermore the inital author has some experience with it
and wants to build on that.
</p>
</li>
<li>
<p>
Nuliga approach: This is a domain thing. The Badminton Community Mittelfranken (where the project origins) switched to Nuliga. However this has been AFTER
this project started (but before documentation&#8230;). So this is not taken into account
</p>
</li>
</ul></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter should describe how the Quality is assured. Besides intensive testing nothing has been done here, up to now.</p></div>
<div style="page-break-after:always"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_risks">11.1. Risks</h3>
<div class="paragraph"><p>The frameworks might not be up-to-date or cool anymore. Then an migration has to be done. Counter measure: just do it :-) since this is the purpose of the project, too.</p></div>
</div>
<div class="sect2">
<h3 id="_technical_debts">11.2. Technical Debts</h3>
<div class="ulist"><ul>
<li>
<p>
The frameworks must be updated (still on Angular2)
</p>
</li>
</ul></div>
<div style="page-break-after:always"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top"> Term         </th>
<th align="left" valign="top"> Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">&lt;Term-1&gt;</p></td>
<td align="left" valign="top"><p class="table">&lt;definition-1&gt;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">&lt;Term-2&gt;</p></td>
<td align="left" valign="top"><p class="table">&lt;definition-2&gt;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2017-07-23 18:39:58 Mitteleuropäische Sommerzeit
</div>
</div>
</body>
</html>
